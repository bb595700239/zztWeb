(function(){!function(t){return t.easyPieChart=function(n,e){var o,i,a,s,r,c,l,p=this;return this.el=n,this.$el=t(n),this.$el.data("easyPieChart",this),this.init=function(){var n;return p.options=t.extend({},t.easyPieChart.defaultOptions,e),n=parseInt(p.$el.data("percent"),10),0==n&&(n=1e-4),p.percentage=0,p.canvas=t("<canvas width='"+p.options.size+"' height='"+p.options.size+"'></canvas>").get(0),p.$el.append(p.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(p.canvas),p.ctx=p.canvas.getContext("2d"),p.ctx.translate(p.options.size/2,p.options.size/2),p.$el.addClass("easyPieChart"),p.$el.css({width:p.options.size,height:p.options.size,lineHeight:""+p.options.size+"px"}),p.update(n),p},this.update=function(t){return p.options.animate===!1?a(t):i(p.percentage,t)},c=function(){var t,n,e;for(p.ctx.fillStyle=p.options.scaleColor,p.ctx.lineWidth=1,e=[],t=n=0;24>=n;t=++n)e.push(o(t));return e},o=function(t){var n;return n=t%6===0?0:.017*p.options.size,p.ctx.save(),p.ctx.rotate(t*Math.PI/12),p.ctx.fillRect(p.options.size/2-n,0,.05*-p.options.size+n,1),p.ctx.restore()},l=function(){var t;return t=p.options.size/2-p.options.lineWidth/2,p.options.scaleColor!==!1&&(t-=.08*p.options.size),p.ctx.beginPath(),p.ctx.arc(0,0,t,0,2*Math.PI,!0),p.ctx.closePath(),p.ctx.strokeStyle=p.options.trackColor,p.ctx.lineWidth=p.options.lineWidth,p.ctx.stroke()},r=function(){return p.options.scaleColor!==!1&&c(),p.options.trackColor!==!1?l():void 0},a=function(n){var e;return r(),p.ctx.strokeStyle=t.isFunction(p.options.barColor)?p.options.barColor(n):p.options.barColor,p.ctx.lineCap=p.options.lineCap,e=p.options.size/2-p.options.lineWidth/2,p.options.scaleColor!==!1&&(e-=.08*p.options.size),p.ctx.save(),p.ctx.rotate(-Math.PI/2),p.ctx.beginPath(),p.ctx.arc(0,0,e,0,2*Math.PI*n/100,!1),p.ctx.stroke(),p.ctx.restore()},i=function(t,n){var e,o,i;return o=30,i=o*p.options.animate/1e3,e=0,p.options.onStart.call(p),p.percentage=n,p.animation&&(clearInterval(p.animation),p.animation=!1),p.animation=setInterval(function(){return p.ctx.clearRect(-p.options.size/2,-p.options.size/2,p.options.size,p.options.size),r.call(p),a.call(p,[s(e,t,n-t,i)]),e++,e/i>1?(clearInterval(p.animation),p.animation=!1,p.options.onStop.call(p)):void 0},1e3/o)},s=function(t,n,e,o){return t/=o/2,1>t?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n},this.init()},t.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:!1,onStart:t.noop,onStop:t.noop},void(t.fn.easyPieChart=function(n){return t.each(this,function(e,o){var i;return i=t(o),i.data("easyPieChart")?void 0:i.data("easyPieChart",new t.easyPieChart(o,n))})})}(jQuery)}).call(this);